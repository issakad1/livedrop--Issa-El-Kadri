import{r as a,j as r,L as j,f as y,u as v,l as w}from"./index-7yY4Qybj.js";function N({id:l,title:c,price:n,image:g,onAdd:i}){const[x,o]=a.useState(!1),m=()=>{i(),o(!0),setTimeout(()=>o(!1),1500)};return r.jsxs("div",{className:"relative border rounded-lg p-4 bg-white shadow-sm",children:[x&&r.jsx("div",{className:"absolute top-2 right-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full shadow",children:"✔ Added to Cart"}),r.jsxs(j,{to:`/p/${l}`,children:[r.jsx("img",{src:g??"/logo.svg",alt:c,className:"w-full h-40 object-cover rounded-md mb-3"}),r.jsx("h3",{className:"font-semibold text-gray-800 truncate",children:c}),r.jsx("p",{className:"text-gray-700 font-medium mt-1",children:y(n)}),r.jsx("p",{className:"text-blue-600 text-sm mt-1 underline",children:"View details →"})]}),r.jsx("button",{onClick:m,className:"mt-3 w-full bg-blue-500 text-white py-2 rounded-md hover:bg-blue-600 transition-all duration-150",children:"Add to Cart"})]})}function S(){const[l,c]=a.useState([]),[n,g]=a.useState(""),[i,x]=a.useState(""),[o,m]=a.useState(""),h=v(e=>e.add);a.useEffect(()=>{w().then(c)},[]);const u=a.useMemo(()=>{const e=n.trim().toLowerCase();let t=l;return e&&(t=t.filter(s=>{const d=s.title.toLowerCase().includes(e),b=s.tags.some(f=>f.toLowerCase().includes(e));return d||b})),i&&(t=t.filter(s=>s.tags.includes(i))),o==="price-asc"&&(t=t.toSorted((s,d)=>s.price-d.price)),o==="price-desc"&&(t=t.toSorted((s,d)=>d.price-s.price)),t},[l,n,i,o]),p=a.useMemo(()=>Array.from(new Set(l.flatMap(e=>e.tags))),[l]);return r.jsx("div",{className:"bg-gray-50 min-h-screen",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:r.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[r.jsx("input",{className:`flex-1 min-w-[250px] border border-gray-300 rounded-lg px-4 py-2.5 text-sm text-gray-700 \r
                       placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-1 \r
                       focus:ring-blue-500 transition-colors`,placeholder:"Search title or tag...",value:n,onChange:e=>g(e.target.value),"aria-label":"Search"}),r.jsxs("select",{className:`border border-gray-300 rounded-lg px-4 py-2.5 text-sm text-gray-700 \r
                       focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 \r
                       transition-colors cursor-pointer bg-white min-w-[120px]`,value:o,onChange:e=>m(e.target.value),"aria-label":"Sort",children:[r.jsx("option",{value:"",children:"Sort"}),r.jsx("option",{value:"price-asc",children:"Price ↑"}),r.jsx("option",{value:"price-desc",children:"Price ↓"})]}),r.jsxs("select",{className:`border border-gray-300 rounded-lg px-4 py-2.5 text-sm text-gray-700 \r
                       focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 \r
                       transition-colors cursor-pointer bg-white min-w-[140px]`,value:i,onChange:e=>x(e.target.value),"aria-label":"Tag filter",children:[r.jsx("option",{value:"",children:"All tags"}),p.map(e=>r.jsx("option",{value:e,children:e},e))]}),r.jsxs("span",{className:"px-4 py-2 bg-blue-50 text-blue-700 rounded-lg font-medium text-sm","aria-live":"polite",children:[u.length," result",u.length===1?"":"s"]})]})}),u.length===0?r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-16 text-center",children:[r.jsx("div",{className:"text-6xl mb-4 opacity-30",children:"🔍"}),r.jsx("h3",{className:"text-xl text-gray-700 font-semibold mb-2",children:"No products found"}),r.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filters"})]}):r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:u.map(e=>r.jsx(N,{id:e.id,title:e.title,price:e.price,image:e.image,description:e.description,onAdd:()=>h({id:e.id,title:e.title,price:e.price,image:e.image})},e.id))})]})})}export{S as default};
